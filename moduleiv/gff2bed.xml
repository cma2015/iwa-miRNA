<tool id="gff2bed1" name="GFF-to-FLAT" version="20.05">
  <!-- <description>converter</description> -->
    <command><![CDATA[
		bash ${__tool_directory__}/scripts/extractGFF3.sh
            --curpath ${__tool_directory__}
            --genegff $geneGFF3
            #if $TEtype.TEgene == "yes":
                --TEanno $TEtype.inputTE
            #end if
            #if $subGene.subtype == "yes":
                --Geneanno $subGene.genetype
            #end if
            --outfile $resultAnno
    ]]></command>

    <inputs>
        <param name="geneGFF3" format="gff3" type="data" label="Input gene annotation file"
            help="Note: The annotation file can be obtained from two ways - upload and speciesRetrival"/>

        <conditional name="TEtype">
            <param name="TEgene" type="boolean"  truevalue="yes" falsevalue="no" checked="false"
                                        label="Input TE annotation?" help ="" />
            <when value="yes">
                <param name="inputTE" type="data" label="" />
            </when>
        </conditional>

        <conditional name="subGene">
            <param name="subtype" type="boolean"  truevalue="yes" falsevalue="no" checked="false"
                                        label="Input gene classification?" help ="" />
            <when value="yes">
                <param name="genetype" type="data" label="" />
            </when>
        </conditional>        
    </inputs>

    <stdio><exit_code range="1:" level="fatal" description="Error Running"/></stdio>

    <outputs>
        <data name="resultAnno" format="tsv" label="Genome annotation file (GFF-to-FLAT)" /> 
    </outputs>


  <help>

**What it does**

This tool converts data from GFF format to FLAT format (scroll down for format description).

--------

**Example**

The following data in GFF format::

    1	araport11	gene	3631	5899	.	+	.	ID=gene:AT1G01010;Name=NAC001;biotype=protein_coding;description=NAC domain-containing protein 1
    1	araport11	ncRNA_gene	23312	24099	.	-	.	ID=gene:AT1G03993;biotype=lncRNA;gene_id=AT1G03993;logic_name=araport11

Will be converted to FLAT format::

    1	3631	5899	AT1G01010	.	+	PCG	PCG
    1	23312	24099	AT1G03993	.	-	lncRNA	lncRNA

------

</help>
</tool>
