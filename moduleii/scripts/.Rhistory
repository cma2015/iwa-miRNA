115/(365)
args <- c("../tmp/222222/pc_criteria.txt","../tmp/222222/ML_result.txt",
"../tmp/222222/out_pool_merge.txt",  "../tmp/222222/NameChange_out.txt",
"../tmp/222222/expressionMat.txt", "../tmp/222222/final_table.txt")
resultdf <- read.table(file = args[3], sep = "\t", header = T)
rownames(resultdf) <- resultdf[,2]
pc_result <- read.table(file = args[1], sep = "\t", header = F, row.names = 1)
ml_result <- read.table(file = args[2], sep = "\t", header = F, row.names = 1)
rename_result <- read.table(file = args[4], sep = "\t", header = T)
rename_result <- read.table(file = args[4], sep = "\t", header = T)
exp_result <- read.table(file = args[5], sep = "\t", header = T)
resultdf$"HTcriteria" <- pc_result[rownames(resultdf), 1]
resultdf$"One_class_SVM" <- ml_result[rownames(resultdf), 1]
resultdf$"ID" <- rename_result[,2]
View(exp_result)
##
library(dplyr)
apply(exp_result, 1, mean)
exp_summary <- data.frame("Mean" = apply(exp_result, 1, mean),
"Max" = apply(exp_result, 1, max),
"Sample" = apply(exp_result, 1, function(x){sum(x>1)}))
apply(exp_result, 1, mean)[rownames(resultdf)]
resultdf$"HTcriteria" <- pc_result[rownames(resultdf), 1]
resultdf$"One_class_SVM" <- ml_result[rownames(resultdf), 1]
resultdf$"ID" <- rename_result[,2]
resultdf$"Mean" <- apply(exp_result, 1, mean)[rownames(resultdf)]
View(resultdf)
resultdf$ID[is.na(resultdf$ID)]
options(stringsAsFactors = F)
args <- c("../tmp/222222/pc_criteria.txt","../tmp/222222/ML_result.txt",
"../tmp/222222/out_pool_merge.txt",  "../tmp/222222/NameChange_out.txt",
"../tmp/222222/expressionMat.txt", "../tmp/222222/final_table.txt")
resultdf <- read.table(file = args[3], sep = "\t", header = T)
rownames(resultdf) <- resultdf[,2]
pc_result <- read.table(file = args[1], sep = "\t", header = F, row.names = 1)
ml_result <- read.table(file = args[2], sep = "\t", header = F, row.names = 1)
rename_result <- read.table(file = args[4], sep = "\t", header = T)
exp_result <- read.table(file = args[5], sep = "\t", header = T)
exp_summary <- data.frame("Mean" = apply(exp_result, 1, mean),
"Max" = apply(exp_result, 1, max),
"Sample" = apply(exp_result, 1, function(x){sum(x>1)}))
rownames(exp_summary) <- rownames(exp_result)
resultdf$"HTcriteria" <- pc_result[rownames(resultdf), 1]
resultdf$"One_class_SVM" <- ml_result[rownames(resultdf), 1]
resultdf$ID <- rename_result[,2]
is.na(resultdf$ID)
resultdf$ID[is.na(resultdf$ID)] <- resultdf$Pre.miRNAs[is.na(resultdf$ID)]
resultdf$"Mean" <- apply(exp_result, 1, mean)[rownames(resultdf)]
resultdf$Max <- apply(exp_result, 1, max)[rownames(resultdf)]
resultdf$paste0(ncol(exp_result), " samples") <- apply(exp_result, 1, function(x){sum(x>1)}))[rownames(resultdf)]
paste0(ncol(exp_result), " samples")
resultdf$paste0(ncol(exp_result), " samples") <- apply(exp_result, 1, function(x){sum(x>1)})[rownames(resultdf)]
parse(eval(text("args")))
parse(eval(text = "args"))
?eval
eval(2 ^ 2 ^ 3)
eval(parse(text = "args"))
parse(text = "args")
resultdf$eval(paste0(ncol(exp_result), " samples")) <- apply(exp_result, 1, function(x){sum(x>1)})[rownames(resultdf)]
resultdf$samples <- apply(exp_result, 1, function(x){sum(x>1)})[rownames(resultdf)]
resultdf[is.na(resultdf)] <- 0
resultdf <- resultdf[, c(1, 29, 27:28, 2:26, 30:)]
resultdf <- resultdf[, c(1, 29, 27:28, 2:26, 30:ncol(resultdf))]
resultdf <- read.table(file = args[3], sep = "\t", header = T)
rownames(resultdf) <- resultdf[,2]
pc_result <- read.table(file = args[1], sep = "\t", header = F, row.names = 1)
ml_result <- read.table(file = args[2], sep = "\t", header = F, row.names = 1)
rename_result <- read.table(file = args[4], sep = "\t", header = T)
exp_result <- read.table(file = args[5], sep = "\t", header = T)
exp_summary <- data.frame("Mean" = apply(exp_result, 1, mean),
"Max" = apply(exp_result, 1, max),
"Sample" = apply(exp_result, 1, function(x){sum(x>1)}))
rownames(exp_summary) <- rownames(exp_result)
resultdf$"HTcriteria" <- pc_result[rownames(resultdf), 1]
resultdf$"One_class_SVM" <- ml_result[rownames(resultdf), 1]
resultdf$ID <- rename_result[,2]
resultdf$ID[is.na(resultdf$ID)] <- resultdf$Pre.miRNAs[is.na(resultdf$ID)]
resultdf$Mean <- apply(exp_result, 1, mean)[rownames(resultdf)]
resultdf$Max <- apply(exp_result, 1, max)[rownames(resultdf)]
resultdf$samples <- apply(exp_result, 1, function(x){sum(x>1)})[rownames(resultdf)]
resultdf[is.na(resultdf)] <- 0
ncol(resultdf)
resultdf <- resultdf[, c(1, 28, 26:27, 2:25, 29:ncol(resultdf))]
resultdf <- read.table(file = args[3], sep = "\t", header = T)
rownames(resultdf) <- resultdf[,2]
pc_result <- read.table(file = args[1], sep = "\t", header = F, row.names = 1)
ml_result <- read.table(file = args[2], sep = "\t", header = F, row.names = 1)
rename_result <- read.table(file = args[4], sep = "\t", header = T)
exp_result <- read.table(file = args[5], sep = "\t", header = T)
exp_summary <- data.frame("Mean" = apply(exp_result, 1, mean),
"Max" = apply(exp_result, 1, max),
"Sample" = apply(exp_result, 1, function(x){sum(x>1)}))
rownames(exp_summary) <- rownames(exp_result)
resultdf$"HTcriteria" <- pc_result[rownames(resultdf), 1]
resultdf$"One_class_SVM" <- ml_result[rownames(resultdf), 1]
resultdf$ID <- rename_result[,2]
resultdf$ID[is.na(resultdf$ID)] <- resultdf$Pre.miRNAs[is.na(resultdf$ID)]
resultdf$Mean <- apply(exp_result, 1, mean)[rownames(resultdf)]
resultdf$Max <- apply(exp_result, 1, max)[rownames(resultdf)]
resultdf$samples <- apply(exp_result, 1, function(x){sum(x>1)})[rownames(resultdf)]
resultdf[is.na(resultdf)] <- 0
colnames(resultdf)
ml_result[rownames(resultdf), 1]
ml_result <- read.table(file = args[2], sep = "\t", header = F, row.names = 1)
write.table(as.data.frame(class_result), out_res, quote = F, sep = "\t", col.names = F)
ml_result <- read.table(file = args[2], sep = "\t", header = F, row.names = 1)
rename_result <- read.table(file = args[4], sep = "\t", header = T)
exp_result <- read.table(file = args[5], sep = "\t", header = T)
exp_summary <- data.frame("Mean" = apply(exp_result, 1, mean),
"Max" = apply(exp_result, 1, max),
"Sample" = apply(exp_result, 1, function(x){sum(x>1)}))
rownames(exp_summary) <- rownames(exp_result)
resultdf$"HTcriteria" <- pc_result[rownames(resultdf), 1]
resultdf$"One_class_SVM" <- ml_result[rownames(resultdf), 1]
resultdf$ID <- rename_result[,2]
resultdf$ID[is.na(resultdf$ID)] <- resultdf$Pre.miRNAs[is.na(resultdf$ID)]
resultdf$Mean <- apply(exp_result, 1, mean)[rownames(resultdf)]
resultdf$Max <- apply(exp_result, 1, max)[rownames(resultdf)]
resultdf$samples <- apply(exp_result, 1, function(x){sum(x>1)})[rownames(resultdf)]
resultdf[is.na(resultdf)] <- 0
ncol(resultdf)
resultdf <- resultdf[, c(1, 29, 27:28, 2:26, 30:ncol(resultdf))]
write.table(resultdf, args[6], quote = F, row.names = F, sep = "\t")
pc_result <- read.table(file = args[1], sep = "\t", header = F, row.names = 1)
ml_result <- read.table(file = args[2], sep = "\t", header = F, row.names = 1)
rename_result <- read.table(file = args[4], sep = "\t", header = T)
resultdf <- read.table(file = args[3], sep = "\t", header = T)
rownames(resultdf) <- resultdf[,2]
pc_result <- read.table(file = args[1], sep = "\t", header = F, row.names = 1)
ml_result <- read.table(file = args[2], sep = "\t", header = F, row.names = 1)
rename_result <- read.table(file = args[4], sep = "\t", header = T)
exp_result <- read.table(file = args[5], sep = "\t", header = T)
exp_summary <- data.frame("Mean" = apply(exp_result, 1, mean),
"Max" = apply(exp_result, 1, max),
"Sample" = apply(exp_result, 1, function(x){sum(x>1)}))
rownames(exp_summary) <- rownames(exp_result)
resultdf$"HTcriteria" <- pc_result[rownames(resultdf), 1]
resultdf$"One_class_SVM" <- ml_result[rownames(resultdf), 1]
resultdf$ID <- rename_result[,2]
resultdf$ID[is.na(resultdf$ID)] <- resultdf$Pre.miRNAs[is.na(resultdf$ID)]
resultdf$Mean <- apply(exp_result, 1, mean)[rownames(resultdf)]
resultdf$Max <- apply(exp_result, 1, max)[rownames(resultdf)]
resultdf$samples <- apply(exp_result, 1, function(x){sum(x>1)})[rownames(resultdf)]
resultdf[is.na(resultdf)] <- 0
colnames(resultdf)
resultdf <- resultdf[, c(1, 29, 27:28, 2:26, 30:ncol(resultdf))]
write.table(resultdf, args[6], quote = F, row.names = F, sep = "\t")
