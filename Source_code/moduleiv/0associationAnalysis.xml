<tool id="MIRNAplot" name="associationAnalysis" version="20.05">
    <!-- <description>performs interactive analysis and visualization of miRNAs.</description> -->
    
    <command><![CDATA[
		bash ${__tool_directory__}/scripts/mirnaAssociation.sh
            --curpath ${__tool_directory__}
            --miranno $mirAnno
            --genomeanno $genomeAnno
            --rmd $resultHTML
    ]]></command>

    <inputs>
        <param name="mirAnno" format="tsv" type="data" label="Input miRNA annotation"
            help="Note: The annotation file can be obtained from miRNACuration, miRNASelection, or miRNARetrieval tool."/>

        <param name="genomeAnno" format="txt" type="data" label="Input genome annotation file in FLAT format"
            help="Note: users can use the tool GFF-to-FLAT to convert GFF to FLAT format" />
    </inputs>

    <stdio><exit_code range="1:" level="fatal" description="Error Running associationAnalysis"/></stdio>

    <outputs>
        <data name="resultHTML" format="html" label="miRNA_pre-miRNA.html" /> 
    </outputs>

<help>

.. class:: donemark

**What it does**

This function is designed to perform interactive analysis and visualization of the characteristics of manually annotated miRNAs,  
including the feature distribution of miRNAs with different length, 
the overall statistics on the number and abundance of different miRNA lengths, 
the overall statistics on the length of different genomic features, such as gene, TE, and lncRNA,
the distribution of miRNA length and abundance among the different genomic features.

.. class:: infomark

**Input**

1. Annotation file of miRNAs derived from databases or *de novo* identification.

2. Genome annotation were used to label the source of miRNA.

.. class:: infomark

**Output**
  *associationAnalysis* provides visualization and summarization of miRNAs in interactive and animated charts. 

</help>

</tool>
